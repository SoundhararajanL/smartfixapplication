[{"C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\index.js":"1","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\reportWebVitals.js":"2","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\App.js":"3","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\login.js":"4","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\signup.js":"5","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\home.js":"6","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\display.js":"7","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\form.js":"8","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\formData.js":"9","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\random.js":"10"},{"size":946,"mtime":1688385656798,"results":"11","hashOfConfig":"12"},{"size":375,"mtime":1685081779214,"results":"13","hashOfConfig":"12"},{"size":525,"mtime":1688385459731,"results":"14","hashOfConfig":"12"},{"size":4122,"mtime":1688385813562,"results":"15","hashOfConfig":"12"},{"size":5744,"mtime":1688385940366,"results":"16","hashOfConfig":"12"},{"size":16439,"mtime":1688385631327,"results":"17","hashOfConfig":"12"},{"size":13533,"mtime":1688385491081,"results":"18","hashOfConfig":"12"},{"size":8953,"mtime":1688385506962,"results":"19","hashOfConfig":"12"},{"size":10898,"mtime":1688392436586,"results":"20","hashOfConfig":"12"},{"size":5212,"mtime":1688385910110,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"99g8ov",{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\index.js",[],[],"C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\reportWebVitals.js",[],[],[],"C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\App.js",["60","61","62","63","64","65"],[],"import './App.css';\r\nimport Login from './login';\r\nimport Home from './home';\r\nimport FormPage from './form';\r\nimport TemplateList from './display';\r\nimport { Form } from 'react-router-dom';\r\nimport FormData from './formData'\r\nimport RandomFormGenerator from './random';\r\nfunction App() {\r\n  return (\r\n   <div>\r\n     {/* <Login /> */}\r\n     {/* < Home /> */}\r\n     {/* <TemplateList /> */}\r\n     {/* <FormPage />  */}\r\n     {/* <FormData/> */}\r\n     <RandomFormGenerator />\r\n     \r\n    </div>\r\n  );\r\n}\r\n \r\nexport default App;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\login.js",["66","67","68","69","70"],[],"import React, { useEffect, useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport logo from './smartfix.png';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport login from './login.png';\r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n\r\n  const handleLogin = () => {\r\n    if (!username || !password) {\r\n      toast.error('Please fill in all the required fields.', { position: toast.POSITION.TOP_CENTER });\r\n      return;\r\n    }\r\n\r\n    const userData = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    axios\r\n      .post('http://localhost:3000/persons/login', userData)\r\n      .then((response) => {\r\n        const success = response.data.success;\r\n\r\n        if (success) {\r\n          toast.success('Login successful!', {\r\n            position: toast.POSITION.TOP_CENTER,\r\n            autoClose: 500,\r\n            onClose: () => {\r\n              navigate('/home', { state: { loginSuccess: true } });\r\n            }\r\n          });\r\n        } else {\r\n          toast.error('Invalid username or password', { position: toast.POSITION.TOP_CENTER });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        toast.error('Invalid username or password', { position: toast.POSITION.TOP_CENTER });\r\n      });\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <div>\r\n\r\n\r\n        <section class=\"vh-100\">\r\n          <div class=\"container-fluid h-custom\">\r\n            <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n              <div class=\"col-md-9 col-lg-6 col-xl-5\">\r\n                <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\"\r\n                  class=\"img-fluid\" alt=\"Sample image\" />\r\n              </div>\r\n              <div class=\"col-md-8 col-lg-6 col-xl-4 offset-xl-1\">\r\n                <form>\r\n                 \r\n                  <div class=\"divider d-flex align-items-center my-4\">\r\n                  <label class=\"form-label\" for=\"form3Example3\">LOGIN</label>\r\n                  </div>\r\n\r\n\r\n                  <div class=\"form-outline mb-4\">\r\n                  <label class=\"form-label\" for=\"form3Example3\">Username</label>\r\n                    <input type=\"email\" id=\"form3Example3\" class=\"form-control form-control-lg\"\r\n                      onChange={(e) => setUsername(e.target.value.trim())}\r\n                      placeholder=\"Enter a User name\" />\r\n\r\n\r\n                  </div>\r\n\r\n\r\n                  <div class=\"form-outline mb-3\">\r\n                  <label class=\"form-label\" for=\"form3Example3\">password</label>\r\n\r\n                    <input type=\"password\" id=\"form3Example4\" class=\"form-control form-control-lg\"\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      placeholder=\"Enter password\" />\r\n                      \r\n                  </div>\r\n\r\n                  <div class=\"text-center text-lg-start mt-4 pt-2\">\r\n                    <button type=\"button\" class=\"btn btn-primary btn-lg\"\r\n                      onClick={handleLogin}\r\n                    >Login</button>\r\n\r\n                    <p class=\"small fw-bold mt-2 pt-1 mb-0\">Don't have an account?</p>\r\n                    <Link className='text' to='/signup'>\r\n                      <a href=\"#!\"\r\n                        class=\"link-danger\">Register</a></Link>\r\n                  </div>\r\n\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"d-flex flex-column flex-md-row text-center text-md-start justify-content-between py-4 px-4 px-xl-5 bg-primary\">\r\n            Smartfix 4.0\r\n            <div class=\"text-white mb-3 mb-md-0\">\r\n              Copyright Â© 2023. All rights reserved.\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </section>\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default Login;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\signup.js",["71","72"],[],"import React, { useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport logo from './smartfix.png';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Signup() {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSignup = () => {\r\n    if (!username || !email || !password) {\r\n      toast.error('Please fill in all the required fields.', { position: toast.POSITION.TOP_CENTER });\r\n      return;\r\n    }\r\n\r\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(?:\\.[a-zA-Z]{1,})?$/;\r\n    if (!emailRegex.test(email)) {\r\n      toast.error('Please enter a valid email address.', { position: toast.POSITION.TOP_CENTER });\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      toast.error('Password should be at least 6 characters long.', { position: toast.POSITION.TOP_CENTER });\r\n      return;\r\n    }\r\n\r\n    const userData = {\r\n      username: username,\r\n      email: email,\r\n      password: password,\r\n    };\r\n\r\n    axios\r\n      .post('http://localhost:3000/persons/signup', userData)\r\n      .then((response) => {\r\n        toast.success('User registered successfully!', {\r\n          position: toast.POSITION.TOP_CENTER,\r\n          autoClose: 500,\r\n          onClose: () => {\r\n            navigate('/login', { state: { loginSuccess: true } });\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        toast.error('Error occurred while registering user!', { position: toast.POSITION.TOP_CENTER });\r\n      });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setUsername('');\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n   \r\n\r\n    <div>\r\n      <section class=\"vh-100\" >\r\n        <div class=\"container h-100\">\r\n          <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n            <div class=\"col-lg-12 col-xl-11\">\r\n              <div class=\"si-card\">\r\n                <div class=\"card-body p-md-5\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <div class=\"sign-card\">\r\n\r\n                      <p class=\"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4\">Sign up</p>\r\n\r\n                      <form class=\"mx-1 mx-md-4\">\r\n\r\n                        <div class=\"d-flex flex-row align-items-center mb-4\">\r\n                          <i class=\"fas fa-user fa-lg me-3 fa-fw\"></i>\r\n                          <div class=\"form-outline flex-fill mb-0\">\r\n                          <label class=\"form-label\" for=\"form3Example1c\">Your Name</label>\r\n                            <input type=\"text\" id=\"form3Example1c\"\r\n                              value={username}\r\n                              required\r\n                              placeholder='Enter Your Name'\r\n                              onChange={(e) => setUsername(e.target.value.trim())}\r\n                              class=\"form-control\" />\r\n\r\n                            \r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"d-flex flex-row align-items-center mb-4\">\r\n                          <i class=\"fas fa-envelope fa-lg me-3 fa-fw\"></i>\r\n                          <div class=\"form-outline flex-fill mb-0\">\r\n                          <label class=\"form-label\" for=\"form3Example3c\">Your Email</label>\r\n                            <input type=\"email\" id=\"form3Example3c\"\r\n                              value={email}\r\n                              placeholder='Enter Your Email'\r\n                              onChange={(e) => setEmail(e.target.value.trim())}\r\n                              class=\"form-control\" />\r\n                           \r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"d-flex flex-row align-items-center mb-4\">\r\n                          <i class=\"fas fa-lock fa-lg me-3 fa-fw\"></i>\r\n                          <div class=\"form-outline flex-fill mb-0\">\r\n                          <label class=\"form-label\" for=\"form3Example4c\">Password</label>\r\n                            <input type=\"password\" id=\"form3Example4c\"\r\n                              value={password}\r\n                              placeholder='Enter Your Password'\r\n                              onChange={(e) => setPassword(e.target.value)}\r\n                              class=\"form-control\" />\r\n                            \r\n                          </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div class=\"d-flex justify-content-center mx-4 mb-3 mb-lg-4\">\r\n                          <button type=\"button\" class=\"btn btn-success btn-lg mr-2\"\r\n                          onClick={handleSignup}\r\n                          >Submit</button>\r\n                          <button type=\"button\" class=\"btn btn-danger btn-lg\"\r\n                          onClick={handleReset}\r\n                          >Reset</button>\r\n                        </div>\r\n\r\n\r\n\r\n                      </form>\r\n\r\n                    </div>\r\n                    <div class=\"col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2\">\r\n\r\n                      <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp\"\r\n                        class=\"sign-image\" alt=\"Sample image\" />\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <ToastContainer position='top-center' /> \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\home.js",["73"],[],"import React, { useState } from 'react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Home() {\r\n  const defaultFields = [\r\n    { field: '', type: '', required: false, range: { NumberMin: '', NumberMax: '' } },\r\n    \r\n  ];\r\n  \r\n\r\n  const navigate = useNavigate();\r\n  const [jobCardTemplates, setJobCardTemplates] = useState([]);\r\n  const [showTable, setShowTable] = useState(false);\r\n\r\n  const handleAddTemplate = () => {\r\n    setJobCardTemplates([{ templateName: '', fields: [...defaultFields] }]);\r\n  };\r\n  const handleSaveTemplate = (index) => {\r\n    const template = jobCardTemplates[index];\r\n  \r\n    // Check if the template name is filled\r\n    if (template.templateName.trim() === '') {\r\n      toast.error('Please enter a template name.', {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return; // Stop execution if the template name is empty\r\n    }\r\n  \r\n    // Check if any required fields are empty\r\n    const hasEmptyFields = template.fields.some(\r\n      (field) => field.field === '' || field.type === ''\r\n    );\r\n  \r\n    if (hasEmptyFields) {\r\n      toast.error('Please fill in all required fields.', {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return; // Stop execution if there are empty fields\r\n    }\r\n  \r\n    // Check if any range fields have min value greater than max value\r\n    const hasInvalidRange = template.fields.some((field) => {\r\n      if (field.type === 'number') {\r\n        const min = field.range.NumberMin ? Number(field.range.NumberMin) : Number.MIN_SAFE_INTEGER;\r\n        const max = field.range.NumberMax ? Number(field.range.NumberMax) : Number.MAX_SAFE_INTEGER;\r\n        return min > max || min === max;\r\n      } else if (field.type === 'date') {\r\n        const startDate = field.range.startDate ? new Date(field.range.startDate) : new Date(0);\r\n        const endDate = field.range.endDate ? new Date(field.range.endDate) : new Date();\r\n        return startDate > endDate || startDate === endDate;\r\n      }\r\n      return false;\r\n    });\r\n    \r\n  \r\n    if (hasInvalidRange) {\r\n      toast.error('Minimum value should be less than to maximum value.', {\r\n        position: toast.POSITION.TOP_CENTER,\r\n      });\r\n      return; // Stop execution if there are invalid range values\r\n    }\r\n    \r\n  \r\n    const templateData = {\r\n      templateName: template.templateName,\r\n      fields: template.fields.map((field) => {\r\n        const fieldData = {\r\n          field: field.field,\r\n          type: field.type === 'date' ? 'date' : field.type,\r\n          required: field.required || false,\r\n        };\r\n  \r\n        if (field.type === 'number') {\r\n          fieldData.range = field.range;\r\n        } else if (field.type === 'date') {\r\n          fieldData.range = {\r\n            startDate: field.range.startDate,\r\n            endDate: field.range.endDate,\r\n          };\r\n        }\r\n  \r\n        return fieldData;\r\n      }),\r\n    };\r\n  \r\n    axios\r\n      .post('http://localhost:3000/home', templateData)\r\n      .then((response) => {\r\n        toast.success('Template saved successfully!', {\r\n          position: toast.POSITION.TOP_CENTER,\r\n          autoClose: 1000,\r\n          onClose: () => {\r\n            navigate('/display', { state: { loginSuccess: true } });\r\n          },\r\n        });\r\n        setShowTable(true);\r\n        setTimeout(() => {\r\n          setShowTable(false);\r\n          setJobCardTemplates([]);\r\n        }, 1000);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        toast.error('Error occurred while saving template! Try change your Template Name ', {\r\n          position: toast.POSITION.TOP_CENTER,\r\n        });\r\n      });\r\n  };\r\n  \r\n\r\n  const handleRemoveTemplate = (index) => {\r\n    const updatedTemplates = [...jobCardTemplates];\r\n    updatedTemplates.splice(index, 1);\r\n    setJobCardTemplates(updatedTemplates);\r\n  };\r\n\r\n  const handleResetFields = (index) => {\r\n    const updatedTemplates = [...jobCardTemplates];\r\n    updatedTemplates[index].fields = [...defaultFields];\r\n    setJobCardTemplates(updatedTemplates);\r\n  };\r\n  const handleDisplay = () => {\r\n    navigate('/display', { state: { loginSuccess: true } });\r\n  };\r\n  const jobCardTemplate = jobCardTemplates[0];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container mt-4\">\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary-home\"\r\n            onClick={handleAddTemplate}\r\n          >\r\n            Create Job Card Template\r\n          </button>\r\n        </div>\r\n        <button className='template-table' onClick={handleDisplay} >\r\n          Show Templates\r\n        </button >\r\n      </div>\r\n\r\n      {jobCardTemplate && (\r\n        <div\r\n          className=\"card text-center\"\r\n          id={`exampleModalCenter-${0}`}\r\n          tabIndex=\"-1\"\r\n          role=\"dialog\"\r\n        >\r\n          <div className=\"card-header\" role=\"document\">\r\n            <div>\r\n              <div>\r\n                <h5 className=\"card-title\">Job Card Template</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <form>\r\n                  <div className=\"card-text\">\r\n                    <label htmlFor={`templateName-${0}`} className=\"form-label\">\r\n                      Template Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control-home mx-auto\"\r\n                      placeholder=\"Enter template name\"\r\n                      value={jobCardTemplate.templateName}\r\n                      onChange={(e) => {\r\n                        const updatedTemplates = [...jobCardTemplates];\r\n                        updatedTemplates[0].templateName = e.target.value;\r\n                        setJobCardTemplates(updatedTemplates);\r\n                      }}\r\n                      style={{ width: '200px' }} // Adjust the width as needed\r\n                      id={`templateName-${0}`}\r\n                    />\r\n\r\n                    <label htmlFor={`fields-${0}`} className=\"form-label mt-3\">\r\n                      Fields\r\n                    </label>\r\n                    <table className=\"table table-bordered\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Field</th>\r\n                          <th>Type</th>\r\n                          <th>Range</th>\r\n                          <th>Required</th>\r\n                          <th>Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {jobCardTemplate.fields.map((field, fieldIndex) => (\r\n                          <tr key={fieldIndex}>\r\n                            <td>\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control-home\"\r\n                                placeholder=\"Field name\"\r\n                                value={field.field}\r\n                                onChange={(e) => {\r\n                                  const updatedTemplates = [...jobCardTemplates];\r\n                                  updatedTemplates[0].fields[fieldIndex].field =\r\n                                    e.target.value;\r\n                                  setJobCardTemplates(updatedTemplates);\r\n                                }}\r\n                              />\r\n                            </td>\r\n                            <td>\r\n                              <select\r\n                                className=\"form-select\"\r\n                                value={field.type}\r\n                                onChange={(e) => {\r\n                                  const updatedTemplates = [...jobCardTemplates];\r\n                                  updatedTemplates[0].fields[fieldIndex].type =\r\n                                    e.target.value;\r\n                                  setJobCardTemplates(updatedTemplates);\r\n                                }}\r\n                              >\r\n                                <option value=\"\" hidden>\r\n                                  -- Select --\r\n                                </option>\r\n                                <option value=\"text\">Text</option>\r\n                                <option value=\"date\">Date</option>\r\n                                <option value=\"number\">Number</option>\r\n                              </select>\r\n                            </td>\r\n                            {field.type === 'number' ? (\r\n                              <td>\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      className=\"form-control-home\"\r\n                                      placeholder=\"Min\"\r\n                                      value={field.range.NumberMin}\r\n                                      onChange={(e) => {\r\n                                        const updatedTemplates = [...jobCardTemplates];\r\n                                        updatedTemplates[0].fields[fieldIndex].range.NumberMin =\r\n                                          e.target.value;\r\n                                        setJobCardTemplates(updatedTemplates);\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                  <div className=\"col\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      className=\"form-control-home\"\r\n                                      placeholder=\"Max\"\r\n                                      value={field.range.NumberMax}\r\n                                      onChange={(e) => {\r\n                                        const updatedTemplates = [...jobCardTemplates];\r\n                                        updatedTemplates[0].fields[fieldIndex].range.NumberMax =\r\n                                          e.target.value;\r\n                                        setJobCardTemplates(updatedTemplates);\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                            ) : field.type === 'date' ? (\r\n                              <td>\r\n                                <div className=\"row\">\r\n                                  <div className=\"col\">\r\n                                    <input\r\n                                      type=\"date\"\r\n                                      className=\"form-control-home\"\r\n                                      value={field.range.startDate}\r\n                                      onChange={(e) => {\r\n                                        const updatedTemplates = [...jobCardTemplates];\r\n                                        updatedTemplates[0].fields[fieldIndex].range.startDate =\r\n                                          e.target.value;\r\n                                        setJobCardTemplates(updatedTemplates);\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                  <div className=\"col\">\r\n                                    <input\r\n                                      type=\"date\"\r\n                                      className=\"form-control-home\"\r\n                                      value={field.range.endDate}\r\n                                      onChange={(e) => {\r\n                                        const updatedTemplates = [...jobCardTemplates];\r\n                                        updatedTemplates[0].fields[fieldIndex].range.endDate =\r\n                                          e.target.value;\r\n                                        setJobCardTemplates(updatedTemplates);\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              </td>\r\n                            ) : (\r\n                              <td></td>\r\n                            )}\r\n                            <td>\r\n                              <div className=\"form-check form-switch\">\r\n                                <input\r\n                                  className=\"form-check-input\"\r\n                                  type=\"checkbox\"\r\n                                  id={`required-${fieldIndex}`}\r\n                                  checked={field.required}\r\n                                  onChange={(e) => {\r\n                                    const updatedTemplates = [...jobCardTemplates];\r\n                                    updatedTemplates[0].fields[fieldIndex].required =\r\n                                      e.target.checked;\r\n                                    setJobCardTemplates(updatedTemplates);\r\n                                  }}\r\n                                />\r\n                                <label\r\n                                  className=\"form-check-label\"\r\n                                  htmlFor={`required-${fieldIndex}`}\r\n                                >\r\n                                  Required\r\n                                </label>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-danger btn-sm\"\r\n                                onClick={() => {\r\n                                  const updatedTemplates = [...jobCardTemplates];\r\n                                  updatedTemplates[0].fields.splice(\r\n                                    fieldIndex,\r\n                                    1\r\n                                  );\r\n                                  setJobCardTemplates(updatedTemplates);\r\n                                }}\r\n                              >\r\n                                <FontAwesomeIcon icon={faTrash} />\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        const updatedTemplates = [...jobCardTemplates];\r\n                        updatedTemplates[0].fields.push({\r\n                          field: '',\r\n                          type: '',\r\n                          required: false,\r\n                          range: { NumberMin: '', NumberMax: '' ,startDate:'', endDate:'' },\r\n                          \r\n                          \r\n                        });\r\n                        setJobCardTemplates(updatedTemplates);\r\n                      }}\r\n                    >\r\n                      Add Field\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"card-footer text-muted\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => handleSaveTemplate(0)}\r\n                >\r\n                  Save Template\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-warning ml-2\"\r\n                  onClick={() => handleResetFields(0)}\r\n                >\r\n                  Reset Fields\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-danger ml-2\"\r\n                  onClick={() => handleRemoveTemplate(0)}\r\n                >\r\n                  Remove Template\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\display.js",["74","75"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faUpRightAndDownLeftFromCenter,\r\n  faPlus,\r\n  faEdit,\r\n  faSave,\r\n  faTrash,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport Home from './home';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst TemplateList = () => {\r\n  const [templateNames, setTemplateNames] = useState([]);\r\n  const [selectedTemplateName, setSelectedTemplateName] = useState(null);\r\n  const [templateFields, setTemplateFields] = useState([]);\r\n  const [editingFields, setEditingFields] = useState([]);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [isTableVisible, setIsTableVisible] = useState(true);\r\n\r\n\r\n  useEffect(() => {\r\n    fetchTemplateNames();\r\n\r\n    const interval = setInterval(fetchTemplateNames, 5000); // Refresh every 5 seconds\r\n\r\n    return () => {\r\n      clearInterval(interval); // Clear the interval on component unmount\r\n    };\r\n  }, []);\r\n\r\n  const fetchTemplateNames = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3000/get');\r\n      setTemplateNames(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching template names:', error);\r\n    }\r\n  };\r\n\r\n  const handleTemplateNameClick = async (templateName) => {\r\n    setSelectedTemplateName(templateName);\r\n\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/template/${templateName}`);\r\n      const { fields } = response.data;\r\n\r\n      const updatedFields = fields.map((field) => {\r\n        if (field.type === 'date') {\r\n          return {\r\n            ...field,\r\n            range: {\r\n              startDate: formatDate(field.range.startDate),\r\n              endDate: formatDate(field.range.endDate),\r\n            },\r\n          };\r\n        }\r\n        return field;\r\n      });\r\n\r\n      setTemplateFields(fields);\r\n      setEditingFields(updatedFields);\r\n      setIsEditing(false);\r\n      setIsTableVisible(true); // Show the table\r\n    } catch (error) {\r\n      console.error('Error fetching template fields:', error);\r\n    }\r\n  };\r\n\r\n  const handleEditClick = async () => {\r\n    setIsEditing(true);\r\n\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/template/${selectedTemplateName}`);\r\n      const { fields } = response.data;\r\n      const updatedFields = fields.map((field) => {\r\n        if (field.type === 'date') {\r\n          return {\r\n            ...field,\r\n            range: {\r\n              ...field.range,\r\n              startDate: formatDate(field.range.startDate),\r\n              endDate: formatDate(field.range.endDate),\r\n            },\r\n          };\r\n        }\r\n        return field;\r\n      });\r\n\r\n      setEditingFields(updatedFields);\r\n    } catch (error) {\r\n      console.error('Error fetching template fields:', error);\r\n    }\r\n  };\r\n\r\n  const handleFieldChange = (index, field, value) => {\r\n    const updatedFields = [...editingFields];\r\n    updatedFields[index][field] = value;\r\n    setEditingFields(updatedFields);\r\n  };\r\n\r\n const handleSaveClick = async () => {\r\n  if (editingFields.length === 0) {\r\n    toast.error('At least one field is required');\r\n    return;\r\n  }\r\n\r\n  let isValid = true;\r\n  const errorMessages = [];\r\n\r\n  // Check for validation errors\r\n  editingFields.forEach((field, index) => {\r\n    if (field.type === 'number') {\r\n      const min = parseFloat(field.range.NumberMin);\r\n      const max = parseFloat(field.range.NumberMax);\r\n      if (min > max) {\r\n        isValid = false;\r\n        errorMessages.push(`Serial No ${index + 1}: Minimum value should be less than maximum value`);\r\n      }\r\n      //  else if (min === max) {\r\n      //   isValid = false;\r\n      //   errorMessages.push(`Serial No ${index + 1}: Minimum value should be less than maximum value`);\r\n      // }\r\n    } else if (field.type === 'date') {\r\n      const startDate = new Date(field.range.startDate);\r\n      const endDate = new Date(field.range.endDate);\r\n      if (startDate > endDate) {  \r\n        isValid = false;\r\n        errorMessages.push(`Serial No ${index + 1}: Start date should be less than end date`);\r\n      } else if (startDate.getTime() === endDate.getTime()) {\r\n        isValid = false;\r\n        errorMessages.push(`Serial No ${index + 1}: Start date should be less than end date`);\r\n      }\r\n    }\r\n  });\r\n\r\n  if (!isValid) {\r\n    errorMessages.forEach((message) => {\r\n      toast.error(message);\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Save template\r\n    await axios.put(`http://localhost:3000/template/${selectedTemplateName}`, {\r\n      fields: editingFields,\r\n    });\r\n    toast.success('Template updated successfully', { autoClose: 500 });\r\n    setIsEditing(false);\r\n    setTemplateFields([...editingFields]);\r\n    setIsTableVisible(false); \r\n  } catch (error) {\r\n    console.error('Error updating template:', error);\r\n    toast.error('Failed to update template');\r\n  }\r\n};\r\n\r\n  const handleAddField = () => {\r\n    const newField = {\r\n      field: '',\r\n      type: '',\r\n      required: false,\r\n      range: {\r\n        NumberMin: 0,\r\n        NumberMax: 0,\r\n        startDate: '',\r\n        endDate: '',\r\n      },\r\n    };\r\n    setEditingFields((prevFields) => [...prevFields, { ...newField }]);\r\n  };\r\n\r\n  const handleDeleteField = (index) => {\r\n    const updatedFields = [...editingFields];\r\n    updatedFields.splice(index, 1);\r\n    setEditingFields(updatedFields);\r\n  };\r\n\r\n  const handleToggleRequired = (index) => {\r\n    const updatedFields = [...editingFields];\r\n    updatedFields[index].required = !updatedFields[index].required;\r\n    setEditingFields(updatedFields);\r\n  };\r\n\r\n  const handleRangeChange = (index, field, value) => {\r\n    const updatedFields = [...editingFields];\r\n    updatedFields[index].range[field] = value;\r\n    setEditingFields(updatedFields);\r\n  };\r\n\r\n  const handleForm = () => {\r\n    navigate('/form', { state: { loginSuccess: true } });\r\n  };\r\n\r\n  \r\n  const formatDate = (dateString) => {\r\n    if (dateString === null) {\r\n      return ''; // Return empty string for null dates\r\n    }\r\n    const date = new Date(dateString);\r\n    const day = date.getDate().toString().padStart(2, '0');\r\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n    const year = date.getFullYear().toString();\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n  \r\n\r\n  const renderTemplateFields = () => {\r\n    if (selectedTemplateName && isTableVisible) {\r\n      return (\r\n        <div className=\"container mt-4\">\r\n          <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n            <h4>Template: {selectedTemplateName}</h4>\r\n            {isEditing ? (\r\n              <button className=\"btn btn-primary\" onClick={handleSaveClick}>\r\n                <FontAwesomeIcon icon={faSave} /> Save Template\r\n              </button>\r\n            ) : (\r\n              <FontAwesomeIcon icon={faEdit} onClick={handleEditClick} />\r\n            )}\r\n          </div>\r\n          <table className=\"display-table\">\r\n          <thead className=\"thead\">\r\n            <tr>\r\n              <th>Serial No.</th>\r\n              <th>Field</th>\r\n              <th>Type</th>\r\n              <th>Range</th>\r\n              <th>Required</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n            <tbody className=\"tbody\">\r\n              {isEditing ? (\r\n                editingFields.map((field, index) => (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={field.field}\r\n                        onChange={(e) => handleFieldChange(index, 'field', e.target.value)}\r\n                      />\r\n                    </td>\r\n\r\n                    <td>\r\n                      <select\r\n                        value={field.type}\r\n                        onChange={(e) => handleFieldChange(index, 'type', e.target.value)}\r\n                      >\r\n                        <option value=\"\" hidden>--Select--</option>\r\n                        <option value=\"text\">Text</option>\r\n                        <option value=\"number\">Number</option>\r\n                        <option value=\"date\">Date</option>\r\n                      </select>\r\n                    </td>\r\n\r\n                    <td>\r\n                      {field.type === 'number' && (\r\n                        <div>\r\n                          <label>Min:</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={field.range.NumberMin}\r\n                            onChange={(e) =>\r\n                              handleRangeChange(index, 'NumberMin', e.target.value)\r\n                            }\r\n                          />\r\n                          <label>Max:</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={field.range.NumberMax}\r\n                            onChange={(e) =>\r\n                              handleRangeChange(index, 'NumberMax', e.target.value)\r\n                            }\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      {field.type === 'date' && (\r\n                        <div>\r\n                          <label>Start:</label>\r\n                          <input\r\n                            type=\"date\"\r\n                            value={formatDate(field.range.startDate)}\r\n                            onChange={(e) =>\r\n                              handleRangeChange(index, 'startDate', e.target.value)\r\n                            }\r\n                          />\r\n                          <label>End:</label>\r\n                          <input\r\n                            type=\"date\"\r\n                            value={formatDate(field.range.endDate)}\r\n                            onChange={(e) =>\r\n                              handleRangeChange(index, 'endDate', e.target.value)\r\n                            }\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n\r\n                    <td>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={field.required}\r\n                        onChange={() => handleToggleRequired(index)}\r\n                      />\r\n                    </td>\r\n\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-danger\"\r\n                        onClick={() => handleDeleteField(index)}\r\n                      >\r\n                        <FontAwesomeIcon icon={faTrash} />\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                templateFields.map((field, index) => (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{field.field}</td>\r\n                    <td>{field.type}</td>\r\n                    <td>\r\n                      {field.type === 'number'\r\n                        ? `Min: ${field.range.NumberMin}, Max: ${field.range.NumberMax}`\r\n                        : field.type === 'date'\r\n                        ? `Start: ${formatDate(field.range.startDate)}, End: ${formatDate(\r\n                            field.range.endDate\r\n                          )}`\r\n                        : ''}\r\n                    </td>\r\n                    <td>{field.required ? 'Clicked Required' : 'Un-Clicked Required'}</td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-danger\"\r\n                        onClick={() => handleDeleteField(index)}\r\n                      >\r\n                        <FontAwesomeIcon icon={faTrash} />\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          {isEditing && (\r\n            <button className=\"display-addfield\" onClick={handleAddField}>\r\n              Add Field\r\n            </button>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer />\r\n      <div>\r\n        <Home />\r\n        <div>\r\n          <button onClick={handleForm} type=\"button\" className=\"btn btn-warning\">\r\n            Form\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <h5 className=\"badge bg-secondary\">Template Names</h5>\r\n      <ol className=\"list-group list-group-numbered\">\r\n        {templateNames.map((template) => (\r\n          <li className=\"list-group-item d-flex justify-content-between align-items-start\" key={template._id}>\r\n            <div className=\"ms-2 me-auto\">\r\n              <div className=\"fw-bold\">\r\n                <span>{template.templateName}</span>\r\n              </div>\r\n            </div>\r\n            <span className=\"icon\" onClick={() => handleTemplateNameClick(template.templateName)}>\r\n              <div className=\"badge bg-primary rounded-pill\">\r\n                <FontAwesomeIcon icon={faUpRightAndDownLeftFromCenter} />\r\n              </div>\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ol>\r\n      {renderTemplateFields()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemplateList;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\form.js",["76","77","78","79","80"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst FormPage = () => {\r\n  const [templateNames, setTemplateNames] = useState([]);\r\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\r\n  const [fields, setFields] = useState([]);\r\n  const [formValues, setFormValues] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchTemplateNames();\r\n\r\n    const interval = setInterval(fetchTemplateNames, 5000); // Refresh every 5 seconds\r\n\r\n    return () => {\r\n      clearInterval(interval); // Clear the interval on component unmount\r\n    };\r\n  }, []);\r\n\r\n  const fetchTemplateNames = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3000/get');\r\n      setTemplateNames(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching template names:', error);\r\n    }\r\n  };\r\n\r\n  const handleSelectChange = async (templateId, selectedOption) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/getFields/${templateId}`);\r\n      const templateFields = response.data;\r\n      setSelectedTemplate(selectedOption);\r\n      setFields(templateFields);\r\n      setFormValues({});\r\n    } catch (error) {\r\n      console.error('Error fetching template fields:', error);\r\n    }\r\n  };\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n  \r\n    const field = fields.find((field) => field.field.toLowerCase() === name.toLowerCase());\r\n    if (field && field.required && field.type === 'email') {\r\n      // email validation code\r\n    } else if (field && field.type === 'number' && field.range) {\r\n      const { NumberMin, NumberMax } = field.range;\r\n      const enteredNumber = Number(value);\r\n  \r\n      if ((NumberMin !== null && enteredNumber < NumberMin) || (NumberMax !== null && enteredNumber > NumberMax)) {\r\n        const errorMessage = NumberMin !== null && NumberMax !== null\r\n          ? `Please enter a value between ${NumberMin} and ${NumberMax}.`\r\n          : NumberMin !== null\r\n            ? `Please enter a value greater than or equal to ${NumberMin}.`\r\n            : `Please enter a value less than or equal to ${NumberMax}.`;\r\n  \r\n        event.target.setCustomValidity(errorMessage);\r\n      } else {\r\n        event.target.setCustomValidity('');\r\n      }\r\n    } else if (field && field.type === 'date' && field.range) {\r\n      const { startDate, endDate } = field.range;\r\n      const selectedDate = new Date(value);\r\n      const minDate = startDate ? new Date(startDate) : null;\r\n      const maxDate = endDate ? new Date(endDate) : null;\r\n  \r\n      const formatDate = (date) => {\r\n        const day = date.getDate().toString().padStart(2, '0');\r\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n        const year = date.getFullYear().toString();\r\n        return `${day}-${month}-${year}`;\r\n      };\r\n  \r\n      if ((minDate && selectedDate < minDate) || (maxDate && selectedDate > maxDate)) {\r\n        const formattedStartDate = minDate ? formatDate(minDate) : null;\r\n        const formattedEndDate = maxDate ? formatDate(maxDate) : null;\r\n  \r\n        const errorMessage = formattedStartDate && formattedEndDate\r\n          ? `Please enter a date between ${formattedStartDate} and ${formattedEndDate}.`\r\n          : formattedStartDate\r\n            ? `Please enter a date greater than or equal to ${formattedStartDate}.`\r\n            : `Please enter a date less than or equal to ${formattedEndDate}.`;\r\n  \r\n        event.target.setCustomValidity(errorMessage);\r\n      } else {\r\n        event.target.setCustomValidity('');\r\n      }\r\n    } else {\r\n      event.target.setCustomValidity('');\r\n    }\r\n  \r\n    setFormValues((prevValues) => ({\r\n      ...prevValues,\r\n      [name]: value,\r\n    }));\r\n  };\r\n  \r\n  \r\n  \r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (selectedTemplate) {\r\n      const requiredFields = fields.filter((field) => field.required);\r\n      const missingRequiredFields = requiredFields.filter((field) => !formValues[field.field]);\r\n\r\n      if (missingRequiredFields.length > 0) {\r\n        toast.error('Please fill in all the required fields.');\r\n      } else {\r\n        axios\r\n          .post('http://localhost:3000/form', {\r\n            templateName: selectedTemplate,\r\n            fields: Object.entries(formValues).map(([field, value]) => ({ field, value })),\r\n          })\r\n          .then((response) => {\r\n            console.log('Form data submitted successfully:', response.data);\r\n            setFormValues({});\r\n            toast.success('Form registered successfully', { position: toast.POSITION.TOP_CENTER, autoClose: 1000 });\r\n            setTimeout(() => {\r\n              window.location.reload(); // Reload the page after a delay (e.g., 2 seconds)\r\n            }, 2000); // Reload the page\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error submitting form data:', error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    // Use a comprehensive regular expression for email validation\r\n    const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  const handleDeleteTemplate = (templateName) => {\r\n    axios\r\n      .delete(`http://localhost:3000/delete/${templateName}`)\r\n      .then((response) => {\r\n        console.log('Template deleted successfully:', response.data);\r\n        fetchTemplateNames();\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error deleting template:', error);\r\n      });\r\n  };\r\n\r\n  const handleDisplay = () => {\r\n    navigate('/display', { state: { loginSuccess: true } });\r\n  };\r\n  \r\n  const handleformData = () => {\r\n    navigate('/formdata', { state: { loginSuccess: true } });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"bold-text\">Form</h1>\r\n      <div>\r\n        <button onClick={handleDisplay} type=\"button\" className=\"btn btn-outline-primary\">\r\n          Back\r\n        </button >\r\n        <button onClick={handleformData} className='button-37'>\r\n          Form collection\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <label className=\"badge bg-secondary\" htmlFor=\"templateSelect\">\r\n          Select Form\r\n        </label>\r\n        <select\r\n          className=\"form-select\"\r\n          id=\"templateSelect\"\r\n          onChange={(e) =>\r\n            handleSelectChange(e.target.value, e.target.options[e.target.selectedIndex].text)\r\n          }\r\n        >\r\n          <option value=\"\" hidden>\r\n            Select a template\r\n          </option>\r\n          {templateNames.map((template) => (\r\n            <option key={template._id} value={template._id}>\r\n              {template.templateName}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {selectedTemplate && (\r\n        <div>\r\n          <h3 className=\"italic-text\">{selectedTemplate}</h3>\r\n          <form onSubmit={handleSubmit}>\r\n            {fields.map((field, index) => (\r\n              <div className=\"input-group mb-3\" key={index}>\r\n                <label className=\"input-group-text\" htmlFor={field.field}>\r\n                  {field.field} {field.required && <span style={{ color: 'red' }} className=\"label-badge\">*</span>}\r\n                </label>\r\n                {field.field.toLowerCase() === 'email' ? (\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"email\"\r\n                    id={field.field}\r\n                    name={field.field}\r\n                    value={formValues[field.field] !== undefined ? formValues[field.field] : ''}\r\n                    onChange={handleInputChange}\r\n                    required={field.required}\r\n                  />\r\n                ) : (\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type={field.type}\r\n                    id={field.field}\r\n                    name={field.field}\r\n                    value={formValues[field.field] !== undefined ? formValues[field.field] : ''}\r\n                    onChange={handleInputChange}\r\n                    required={field.required}\r\n                    min={field.range ? field.range.NumberMin : undefined}\r\n                    max={field.range ? field.range.NumberMax : undefined}\r\n                  />\r\n                )}\r\n              </div>\r\n            ))}\r\n            <button className=\"btn btn-success\" type=\"submit\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormPage;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\formData.js",["81","82","83"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronUp, faChevronDown, faSearch, faSadTear } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, Button, Table, Pagination } from 'react-bootstrap';\r\n\r\nconst FormData = () => {\r\n  const [templates, setTemplates] = useState([]);\r\n  const [selectedTemplateName, setSelectedTemplateName] = useState('');\r\n  const [selectedTemplates, setSelectedTemplates] = useState([]);\r\n  const [showTable, setShowTable] = useState(false);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [searchError, setSearchError] = useState(false);\r\n  const [sortedColumn, setSortedColumn] = useState(null);\r\n  const [sortOrder, setSortOrder] = useState('asc');\r\n  const navigate = useNavigate();\r\n  const [serialNumbers, setSerialNumbers] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 100;\r\n  const [searchName, setSearchName] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Fetch templates from MongoDB collection\r\n    axios\r\n      .get('http://localhost:3000/formdata')\r\n      .then((response) => {\r\n        const fetchedTemplates = response.data;\r\n        setTemplates(fetchedTemplates);\r\n\r\n        // Generate serial numbers for each template\r\n        const serials = fetchedTemplates.map((_, index) => index + 1);\r\n        setSerialNumbers(serials);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching templates:', error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const selected = templates.filter(\r\n      (template) => template.templateName === selectedTemplateName\r\n    );\r\n    setSelectedTemplates(selected);\r\n    setShowTable(true);\r\n    setCurrentPage(1);\r\n  }, [selectedTemplateName, templates]);\r\n\r\n  const handleTemplateChange = (event) => {\r\n    setSelectedTemplateName(event.target.value);\r\n    setSearchValue('');\r\n    setSearchResult([]);\r\n    setSearchError(false);\r\n  };\r\n\r\n  const getTemplateOptions = () => {\r\n    const uniqueTemplateNames = Array.from(\r\n      new Set(templates.map((template) => template.templateName))\r\n    );\r\n\r\n    return uniqueTemplateNames.map((templateName) => (\r\n      <option key={templateName} value={templateName}>\r\n        {templateName}\r\n      </option>\r\n    ));\r\n  };\r\n\r\n  const handleForm = () => {\r\n    navigate('/form', { state: { loginSuccess: true } });\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    const searchValueLowercase = searchValue.toLowerCase().trim();\r\n  \r\n    const filteredTemplates = selectedTemplates.filter((template) =>\r\n      template.fields.some((field) => {\r\n        const fieldValue = field.value.toString().toLowerCase();\r\n  \r\n        // Perform an exact match search\r\n        return fieldValue === searchValueLowercase;\r\n      })\r\n    );\r\n  \r\n    setSearchResult(filteredTemplates);\r\n    setSearchError(\r\n      searchValue.trim() !== \"\" &&\r\n      filteredTemplates.length === 0 &&\r\n      selectedTemplates.length > 0\r\n    );\r\n  };\r\n  \r\n  \r\n  \r\n  \r\n  const handleColumnClick = (column) => {\r\n    if (sortedColumn === column) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortedColumn(column);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  const sortRows = (rows) => {\r\n    if (!sortedColumn) {\r\n      return rows;\r\n    }\r\n\r\n    const sortedRows = [...rows];\r\n\r\n    sortedRows.sort((a, b) => {\r\n      let fieldA, fieldB;\r\n\r\n      if (sortedColumn === 'Serial No.') {\r\n        fieldA = serialNumbers[selectedTemplates.indexOf(a)];\r\n        fieldB = serialNumbers[selectedTemplates.indexOf(b)];\r\n      } else {\r\n        fieldA = a.fields.find((f) => f.field === sortedColumn)?.value;\r\n        fieldB = b.fields.find((f) => f.field === sortedColumn)?.value;\r\n      }\r\n\r\n      if (fieldA === undefined || fieldB === undefined) {\r\n        // Handle empty values\r\n        if (fieldA === undefined && fieldB === undefined) {\r\n          return 0; // Both values are empty, consider them equal\r\n        } else if (fieldA === undefined) {\r\n          return sortOrder === 'asc' ? 1 : -1; // Empty values come after non-empty values\r\n        } else {\r\n          return sortOrder === 'asc' ? -1 : 1; // Empty values come before non-empty values\r\n        }\r\n      }\r\n\r\n      if (!isNaN(fieldA) && !isNaN(fieldB)) {\r\n        // Both values are numeric\r\n        const numA = parseFloat(fieldA);\r\n        const numB = parseFloat(fieldB);\r\n\r\n        if (sortOrder === 'asc') {\r\n          return numA - numB;\r\n        } else {\r\n          return numB - numA;\r\n        }\r\n      } else {\r\n        // At least one value is non-numeric\r\n        if (sortOrder === 'asc') {\r\n          return fieldA.localeCompare(fieldB);\r\n        } else {\r\n          return fieldB.localeCompare(fieldA);\r\n        }\r\n      }\r\n    });\r\n\r\n    return sortedRows;\r\n  };\r\n\r\n  const renderTemplateTable = () => {\r\n    const templateFields = selectedTemplates.reduce((fields, template) => {\r\n      template.fields.forEach((field) => {\r\n        if (!fields.includes(field.field)) {\r\n          fields.push(field.field);\r\n        }\r\n      });\r\n      return fields;\r\n    }, []);\r\n\r\n    const rowsToShow = searchResult.length > 0 ? searchResult : selectedTemplates;\r\n    const sortedRows = sortRows(rowsToShow);\r\n\r\n    const renderSortArrow = (column) => {\r\n      if (sortedColumn === column) {\r\n        return (\r\n          <FontAwesomeIcon\r\n            icon={sortOrder === 'asc' ? faChevronUp : faChevronDown}\r\n            className=\"sort-arrow\"\r\n          />\r\n        );\r\n      }\r\n      return null;\r\n    };\r\n\r\n    // Pagination\r\n    const indexOfLastItem = currentPage * itemsPerPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n    const currentItems = sortedRows.slice(indexOfFirstItem, indexOfLastItem);\r\n    const renderPageNumbers = () => {\r\n      const pageNumbers = Math.ceil(sortedRows.length / itemsPerPage);\r\n      const maxPageNumbersToShow = 3; // Maximum number of page numbers to display\r\n\r\n      if (pageNumbers <= maxPageNumbersToShow) {\r\n        return (\r\n          <Pagination className=\"pagination\">\r\n            {Array.from({ length: pageNumbers }).map((_, index) => (\r\n              <Pagination.Item\r\n                key={index + 1}\r\n                active={currentPage === index + 1}\r\n                onClick={() => setCurrentPage(index + 1)}\r\n              >\r\n                {index + 1}\r\n              </Pagination.Item>\r\n            ))}\r\n          </Pagination>\r\n        );\r\n      }\r\n\r\n      const pageNumbersToShow = [];\r\n      const firstPageNumber = Math.max(currentPage - 1, 1);\r\n      const lastPageNumber = Math.min(firstPageNumber + maxPageNumbersToShow - 1, pageNumbers);\r\n\r\n      for (let i = firstPageNumber; i <= lastPageNumber; i++) {\r\n        pageNumbersToShow.push(i);\r\n      }\r\n\r\n      return (\r\n        <Pagination className=\"pagination\">\r\n          {firstPageNumber > 1 && (\r\n            <Pagination.Item onClick={() => setCurrentPage(currentPage - 1)}>\r\n              Previous\r\n            </Pagination.Item>\r\n          )}\r\n          {pageNumbersToShow.map((pageNumber) => (\r\n            <Pagination.Item\r\n              key={pageNumber}\r\n              active={currentPage === pageNumber}\r\n              onClick={() => setCurrentPage(pageNumber)}\r\n            >\r\n              {pageNumber}\r\n            </Pagination.Item>\r\n          ))}\r\n          {lastPageNumber < pageNumbers && (\r\n            <Pagination.Item onClick={() => setCurrentPage(currentPage + 1)}>\r\n              Next\r\n            </Pagination.Item>\r\n          )}\r\n        </Pagination>\r\n      );\r\n    };\r\n\r\n    const handleSortClick = (column) => {\r\n      if (sortedColumn === column) {\r\n        setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n      } else {\r\n        setSortedColumn(column);\r\n        setSortOrder('asc');\r\n      }\r\n      setCurrentPage(1); // Reset to first page after sorting\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <div className=\"pagination-top-right\">{renderPageNumbers()}</div>\r\n        <Table className=\"center-table\" bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th onClick={() => handleSortClick('Serial No.')}>\r\n                Serial No.\r\n                {renderSortArrow('Serial No.')}\r\n              </th>\r\n              {templateFields.map((field) => (\r\n                <th key={field} onClick={() => handleSortClick(field)}>\r\n                  {field}\r\n                  {renderSortArrow(field)}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {currentItems.length > 0 ? (\r\n              currentItems.map((template, index) => (\r\n                <tr key={index}>\r\n                  <td>{serialNumbers[selectedTemplates.indexOf(template)]}</td>\r\n                  {templateFields.map((field) => {\r\n                    const fieldValue = template.fields.find((f) => f.field === field);\r\n                    return <td key={field}>{fieldValue ? fieldValue.value : ''}</td>;\r\n                  })}\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan={templateFields.length + 1} className=\"text-center\">\r\n                  No templates found.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button className=\"button-8\" onClick={handleForm}>\r\n        Back\r\n      </Button>\r\n      <h2 className=\"Form-font\">Form collection</h2>\r\n\r\n      <Form.Group controlId=\"templateSelect\">\r\n        <label>Select a template:</label>\r\n        <Form.Control as=\"select\" onChange={handleTemplateChange}>\r\n          <option value=\"\" hidden>\r\n            --Form collection--\r\n          </option>\r\n          {getTemplateOptions()}\r\n        </Form.Control>\r\n      </Form.Group>\r\n      {selectedTemplates.length > 0 && showTable && (\r\n        <div>\r\n          <div className=\"search-bar\">\r\n            <Form.Control\r\n              type=\"text\"\r\n              value={searchValue}\r\n              onChange={(event) => setSearchValue(event.target.value)}\r\n              placeholder=\"Search\"\r\n            />\r\n            <Button onClick={handleSearch}>\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </Button>\r\n          </div>\r\n          {searchError ? (\r\n            <div className=\"not-found\">\r\n              <FontAwesomeIcon icon={faSadTear} bounce className=\"sad-icon\" />\r\n              <p>User name not found</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"horizontal-tables\">\r\n              <div className=\"table-container\">{renderTemplateTable()}</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormData;","C:\\Users\\soundarya\\Documents\\GitHub\\smartfixapplication\\src\\random.js",[],[],{"ruleId":"84","severity":1,"message":"85","line":2,"column":8,"nodeType":"86","messageId":"87","endLine":2,"endColumn":13},{"ruleId":"84","severity":1,"message":"88","line":3,"column":8,"nodeType":"86","messageId":"87","endLine":3,"endColumn":12},{"ruleId":"84","severity":1,"message":"89","line":4,"column":8,"nodeType":"86","messageId":"87","endLine":4,"endColumn":16},{"ruleId":"84","severity":1,"message":"90","line":5,"column":8,"nodeType":"86","messageId":"87","endLine":5,"endColumn":20},{"ruleId":"84","severity":1,"message":"91","line":6,"column":10,"nodeType":"86","messageId":"87","endLine":6,"endColumn":14},{"ruleId":"84","severity":1,"message":"92","line":7,"column":8,"nodeType":"86","messageId":"87","endLine":7,"endColumn":16},{"ruleId":"84","severity":1,"message":"93","line":1,"column":17,"nodeType":"86","messageId":"87","endLine":1,"endColumn":26},{"ruleId":"84","severity":1,"message":"94","line":4,"column":8,"nodeType":"86","messageId":"87","endLine":4,"endColumn":12},{"ruleId":"84","severity":1,"message":"95","line":7,"column":8,"nodeType":"86","messageId":"87","endLine":7,"endColumn":13},{"ruleId":"84","severity":1,"message":"96","line":13,"column":9,"nodeType":"86","messageId":"87","endLine":13,"endColumn":17},{"ruleId":"97","severity":1,"message":"98","line":62,"column":17,"nodeType":"99","endLine":63,"endColumn":58},{"ruleId":"84","severity":1,"message":"94","line":4,"column":8,"nodeType":"86","messageId":"87","endLine":4,"endColumn":12},{"ruleId":"97","severity":1,"message":"98","line":136,"column":23,"nodeType":"99","endLine":137,"endColumn":65},{"ruleId":"84","severity":1,"message":"100","line":18,"column":10,"nodeType":"86","messageId":"87","endLine":18,"endColumn":19},{"ruleId":"84","severity":1,"message":"101","line":6,"column":3,"nodeType":"86","messageId":"87","endLine":6,"endColumn":9},{"ruleId":"84","severity":1,"message":"102","line":14,"column":10,"nodeType":"86","messageId":"87","endLine":14,"endColumn":14},{"ruleId":"84","severity":1,"message":"102","line":3,"column":10,"nodeType":"86","messageId":"87","endLine":3,"endColumn":14},{"ruleId":"84","severity":1,"message":"103","line":4,"column":10,"nodeType":"86","messageId":"87","endLine":4,"endColumn":25},{"ruleId":"84","severity":1,"message":"104","line":5,"column":10,"nodeType":"86","messageId":"87","endLine":5,"endColumn":17},{"ruleId":"84","severity":1,"message":"105","line":138,"column":9,"nodeType":"86","messageId":"87","endLine":138,"endColumn":22},{"ruleId":"84","severity":1,"message":"106","line":144,"column":9,"nodeType":"86","messageId":"87","endLine":144,"endColumn":29},{"ruleId":"84","severity":1,"message":"107","line":22,"column":10,"nodeType":"86","messageId":"87","endLine":22,"endColumn":20},{"ruleId":"84","severity":1,"message":"108","line":22,"column":22,"nodeType":"86","messageId":"87","endLine":22,"endColumn":35},{"ruleId":"84","severity":1,"message":"109","line":96,"column":9,"nodeType":"86","messageId":"87","endLine":96,"endColumn":26},"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'Home' is defined but never used.","'FormPage' is defined but never used.","'TemplateList' is defined but never used.","'Form' is defined but never used.","'FormData' is defined but never used.","'useEffect' is defined but never used.","'logo' is defined but never used.","'login' is defined but never used.","'location' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donât need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'showTable' is assigned a value but never used.","'faPlus' is defined but never used.","'Link' is defined but never used.","'FontAwesomeIcon' is defined but never used.","'faTrash' is defined but never used.","'validateEmail' is assigned a value but never used.","'handleDeleteTemplate' is assigned a value but never used.","'searchName' is assigned a value but never used.","'setSearchName' is assigned a value but never used.","'handleColumnClick' is assigned a value but never used."]