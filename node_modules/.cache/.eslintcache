[{"D:\\git hub folder\\smartfixapplication\\src\\index.js":"1","D:\\git hub folder\\smartfixapplication\\src\\reportWebVitals.js":"2","D:\\git hub folder\\smartfixapplication\\src\\App.js":"3","D:\\git hub folder\\smartfixapplication\\src\\login.js":"4","D:\\git hub folder\\smartfixapplication\\src\\signup.js":"5","D:\\git hub folder\\smartfixapplication\\src\\home.js":"6","D:\\git hub folder\\smartfixapplication\\src\\display.js":"7","D:\\git hub folder\\smartfixapplication\\src\\form.js":"8"},{"size":859,"mtime":1685618887022,"results":"9","hashOfConfig":"10"},{"size":375,"mtime":1684840946006,"results":"11","hashOfConfig":"10"},{"size":381,"mtime":1685618523248,"results":"12","hashOfConfig":"10"},{"size":4122,"mtime":1685956495835,"results":"13","hashOfConfig":"10"},{"size":7204,"mtime":1685959908133,"results":"14","hashOfConfig":"10"},{"size":9176,"mtime":1685857636883,"results":"15","hashOfConfig":"10"},{"size":6755,"mtime":1685939413101,"results":"16","hashOfConfig":"10"},{"size":6722,"mtime":1685961340175,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1vrl18m",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\git hub folder\\smartfixapplication\\src\\index.js",[],[],"D:\\git hub folder\\smartfixapplication\\src\\reportWebVitals.js",[],[],[],"D:\\git hub folder\\smartfixapplication\\src\\App.js",["45","46","47","48"],[],"D:\\git hub folder\\smartfixapplication\\src\\login.js",["49","50","51","52","53"],[],"D:\\git hub folder\\smartfixapplication\\src\\signup.js",["54","55"],[],"D:\\git hub folder\\smartfixapplication\\src\\home.js",["56"],[],"D:\\git hub folder\\smartfixapplication\\src\\display.js",["57","58"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUpRightAndDownLeftFromCenter, faPlus, faEdit, faSave, faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport Home from './home';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst TemplateList = () => {\r\n  const [templateNames, setTemplateNames] = useState([]);\r\n  const [selectedTemplateName, setSelectedTemplateName] = useState(null);\r\n  const [templateFields, setTemplateFields] = useState([]);\r\n  const [editingFields, setEditingFields] = useState([]);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchTemplateNames();\r\n\r\n    const interval = setInterval(fetchTemplateNames, 5000); // Refresh every 5 seconds\r\n\r\n    return () => {\r\n      clearInterval(interval); // Clear the interval on component unmount\r\n    };\r\n  }, []);\r\n\r\n  const fetchTemplateNames = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:3000/get');\r\n      setTemplateNames(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching template names:', error);\r\n    }\r\n  };\r\n\r\n  const handleTemplateNameClick = async (templateName) => {\r\n    setSelectedTemplateName(templateName);\r\n\r\n    try {\r\n      const response = await axios.get(`http://localhost:3000/template/${templateName}`);\r\n      setTemplateFields(response.data.fields);\r\n      setEditingFields(response.data.fields);\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      console.error('Error fetching template fields:', error);\r\n    }\r\n  };\r\n\r\n  const handleEditClick = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleFieldChange = (index, field, value) => {\r\n    const updatedFields = [...editingFields];\r\n    updatedFields[index][field] = value;\r\n    setEditingFields(updatedFields);\r\n  };\r\n\r\n  const handleSaveClick = async () => {\r\n    if (editingFields.length === 0) {\r\n      toast.error('At least one field is required');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.put(`http://localhost:3000/template/${selectedTemplateName}`, {\r\n        fields: editingFields,\r\n      });\r\n      toast.success('Template updated successfully');\r\n      setIsEditing(false);\r\n      setTemplateFields([...editingFields]);\r\n    } catch (error) {\r\n      console.error('Error updating template:', error);\r\n      toast.error('Failed to update template');\r\n    }\r\n  };\r\n\r\n  const handleAddField = () => {\r\n    const newField = {\r\n      field: '',\r\n      type: 'text',\r\n    };\r\n    setEditingFields((prevFields) => [...prevFields, { ...newField }]);\r\n  };\r\n\r\n  const handleDeleteField = (index) => {\r\n    const updatedFields = [...editingFields];\r\n    updatedFields.splice(index, 1);\r\n    setEditingFields(updatedFields);\r\n  };\r\n  const handleForm = () => {\r\n    navigate('/form', { state: { loginSuccess: true } });\r\n  };\r\n\r\n\r\n  const renderTemplateFields = () => {\r\n    if (selectedTemplateName) {\r\n      return (\r\n        <div className=\"container mt-4\">\r\n          <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n            <h4>Template: {selectedTemplateName}</h4>\r\n            {isEditing ? (\r\n              <button className=\"btn btn-primary\" onClick={handleSaveClick}>\r\n                <FontAwesomeIcon icon={faSave} /> Save Template\r\n              </button>\r\n            ) : (\r\n              <FontAwesomeIcon icon={faEdit} onClick={handleEditClick} />\r\n            )}\r\n          </div>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-dark\">\r\n              <tr>\r\n                <th>Field</th>\r\n                <th>Type</th>\r\n                {isEditing && <th>Delete</th>}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {isEditing ? (\r\n                editingFields.map((field, index) => (\r\n                  <tr key={index}>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={field.field}\r\n                        onChange={(e) => handleFieldChange(index, 'field', e.target.value)}\r\n                      />\r\n                    </td>\r\n                    <td>\r\n                      <select\r\n                        value={field.type}\r\n                        onChange={(e) => handleFieldChange(index, 'type', e.target.value)}\r\n                      >\r\n                        <option value=\"text\">Text</option>\r\n                        <option value=\"number\">Number</option>\r\n                        <option value=\"date\">Date</option>\r\n                      </select>\r\n                    </td>\r\n                    <td>\r\n                      <button className=\"btn btn-danger\" onClick={() => handleDeleteField(index)}>\r\n                        <FontAwesomeIcon icon={faTrash} />\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                templateFields.map((field, index) => (\r\n                  <tr key={index}>\r\n                    <td>{field.field}</td>\r\n                    <td>{field.type}</td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          {isEditing && (\r\n            <button className=\"btn btn-success\" onClick={handleAddField}>\r\n              Add Field\r\n            </button>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer />\r\n      <div>\r\n        <Home />\r\n        <div>\r\n\r\n          <button onClick={handleForm} type=\"button\" className=\"btn btn-warning\">\r\n            Form\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <h5 class=\"badge bg-secondary\">Template Names</h5>\r\n      <ol class=\"list-group list-group-numbered\">\r\n        {templateNames.map((template) => (\r\n          <li class=\"list-group-item d-flex justify-content-between align-items-start\" key={template._id}>\r\n            <div class=\"ms-2 me-auto\">\r\n              <div class=\"fw-bold\">\r\n                <span>{template.templateName}</span>\r\n              </div>\r\n            </div>\r\n            <span className=\"icon\" onClick={() => handleTemplateNameClick(template.templateName)}>\r\n              <div class=\"badge bg-primary rounded-pill\">\r\n                <FontAwesomeIcon icon={faUpRightAndDownLeftFromCenter} />\r\n              </div>\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ol>\r\n      {renderTemplateFields()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TemplateList;\r\n",[],"D:\\git hub folder\\smartfixapplication\\src\\form.js",["59","60","61","62"],[],{"ruleId":"63","severity":1,"message":"64","line":2,"column":8,"nodeType":"65","messageId":"66","endLine":2,"endColumn":13},{"ruleId":"63","severity":1,"message":"67","line":4,"column":8,"nodeType":"65","messageId":"66","endLine":4,"endColumn":16},{"ruleId":"63","severity":1,"message":"68","line":5,"column":8,"nodeType":"65","messageId":"66","endLine":5,"endColumn":20},{"ruleId":"63","severity":1,"message":"69","line":6,"column":10,"nodeType":"65","messageId":"66","endLine":6,"endColumn":14},{"ruleId":"63","severity":1,"message":"70","line":1,"column":17,"nodeType":"65","messageId":"66","endLine":1,"endColumn":26},{"ruleId":"63","severity":1,"message":"71","line":4,"column":8,"nodeType":"65","messageId":"66","endLine":4,"endColumn":12},{"ruleId":"63","severity":1,"message":"72","line":7,"column":8,"nodeType":"65","messageId":"66","endLine":7,"endColumn":13},{"ruleId":"63","severity":1,"message":"73","line":13,"column":9,"nodeType":"65","messageId":"66","endLine":13,"endColumn":17},{"ruleId":"74","severity":1,"message":"75","line":62,"column":17,"nodeType":"76","endLine":63,"endColumn":58},{"ruleId":"63","severity":1,"message":"71","line":4,"column":8,"nodeType":"65","messageId":"66","endLine":4,"endColumn":12},{"ruleId":"74","severity":1,"message":"75","line":178,"column":23,"nodeType":"76","endLine":179,"endColumn":65},{"ruleId":"63","severity":1,"message":"77","line":14,"column":10,"nodeType":"65","messageId":"66","endLine":14,"endColumn":19},{"ruleId":"63","severity":1,"message":"78","line":4,"column":42,"nodeType":"65","messageId":"66","endLine":4,"endColumn":48},{"ruleId":"63","severity":1,"message":"79","line":8,"column":10,"nodeType":"65","messageId":"66","endLine":8,"endColumn":14},{"ruleId":"63","severity":1,"message":"79","line":3,"column":10,"nodeType":"65","messageId":"66","endLine":3,"endColumn":14},{"ruleId":"63","severity":1,"message":"80","line":4,"column":10,"nodeType":"65","messageId":"66","endLine":4,"endColumn":25},{"ruleId":"63","severity":1,"message":"81","line":5,"column":10,"nodeType":"65","messageId":"66","endLine":5,"endColumn":17},{"ruleId":"63","severity":1,"message":"82","line":98,"column":9,"nodeType":"65","messageId":"66","endLine":98,"endColumn":29},"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'FormPage' is defined but never used.","'TemplateList' is defined but never used.","'Form' is defined but never used.","'useEffect' is defined but never used.","'logo' is defined but never used.","'login' is defined but never used.","'location' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'showTable' is assigned a value but never used.","'faPlus' is defined but never used.","'Link' is defined but never used.","'FontAwesomeIcon' is defined but never used.","'faTrash' is defined but never used.","'handleDeleteTemplate' is assigned a value but never used."]